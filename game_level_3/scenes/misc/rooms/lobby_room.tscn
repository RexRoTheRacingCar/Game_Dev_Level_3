[gd_scene load_steps=4 format=3 uid="uid://beokc1lgsn058"]

[ext_resource type="Script" path="res://scripts/misc/room_gen/room.gd" id="1_jiflk"]
[ext_resource type="TileSet" uid="uid://fxfnm3yb88aw" path="res://misc/resources/tilesets/test_tileset.tres" id="2_t0jh4"]

[sub_resource type="NavigationPolygon" id="NavigationPolygon_4ltyq"]
vertices = PackedVector2Array(-344, 279.891, 0, 192.109, -392, 388.109, -392, 380.109, 436, -110.109, 752, -200.109, 768.219, -192, 404, -9.89063, 360, -72.1094, -420, 317.891, -420, 366.109, 404, 9.89063, 444.219, 30, 60, 222.109, -404, -9.89063, -444.219, -30, -60, -222.109, 448, -380.109, 448, -388.109, 768.219, -228, 752, -219.891, 616, -219.891, -448, 380.109, -448, 388.109, -768.219, 228, -752, 219.891, -616, 219.891, -616, 200.109, -752, 200.109, -768.219, 192, -404, 9.89063, -540, 162.109, 0, -192.109, 392, -388.109, 392, -380.109, 436, -129.891, 540, -162.109, -344, 260.109, -240, 227.891, 616, -200.109, 420, -317.891, 420, -366.109, -164, 189.891, -164, 170.109, 164, -170.109, 344, -279.891, 344, -260.109, 240, -227.891, 164, -189.891, -360, 72.1094, -436, 129.891, -436, 110.109)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3), PackedInt32Array(4, 5, 6, 7, 8), PackedInt32Array(9, 0, 3, 10), PackedInt32Array(11, 12, 13), PackedInt32Array(14, 15, 16), PackedInt32Array(17, 18, 19, 20, 21), PackedInt32Array(22, 23, 24, 25, 26), PackedInt32Array(27, 28, 29, 30, 31), PackedInt32Array(32, 33, 34), PackedInt32Array(5, 4, 35, 36), PackedInt32Array(1, 0, 37, 38), PackedInt32Array(39, 20, 5, 36), PackedInt32Array(20, 39, 21), PackedInt32Array(17, 21, 40, 41), PackedInt32Array(1, 42, 43, 44), PackedInt32Array(26, 9, 10, 22), PackedInt32Array(27, 26, 25, 28), PackedInt32Array(32, 34, 41, 40, 45), PackedInt32Array(32, 45, 46, 47), PackedInt32Array(44, 8, 7, 11, 13, 1), PackedInt32Array(32, 48, 44, 43, 49, 30), PackedInt32Array(30, 14, 16, 32), PackedInt32Array(38, 42, 1), PackedInt32Array(50, 38, 37, 31), PackedInt32Array(51, 50, 31), PackedInt32Array(51, 31, 30), PackedInt32Array(49, 51, 30), PackedInt32Array(47, 48, 32), PackedInt32Array(35, 47, 46, 36)])
outlines = Array[PackedVector2Array]([PackedVector2Array(413, -464, 58, -289, 4, -314, -613, -28, -526, 12, -899, 185, -423, 434, -65, 270, 4, 296, 613, 4, 540, -26, 889, -211)])
source_geometry_mode = 2
agent_radius = 16.0

[node name="SmallFightRoom1" type="Node2D" node_paths=PackedStringArray("room_nav_region")]
y_sort_enabled = true
script = ExtResource("1_jiflk")
room_nav_region = NodePath("FloorFolder/MainTilemap/MainNavigation")

[node name="PortalSpawnFolder" type="Node2D" parent="."]
unique_name_in_owner = true

[node name="Marker2D" type="Marker2D" parent="PortalSpawnFolder"]
visible = false
position = Vector2(-240, 120)

[node name="WallFolder" type="Node2D" parent="."]
y_sort_enabled = true

[node name="WallTilemap1" type="TileMapLayer" parent="WallFolder"]
z_index = 12
y_sort_enabled = true
tile_set = ExtResource("2_t0jh4")
collision_enabled = false

[node name="WallTilemap2" type="TileMapLayer" parent="WallFolder"]
z_index = 13
y_sort_enabled = true
tile_set = ExtResource("2_t0jh4")
collision_enabled = false

[node name="WallTilemap3" type="TileMapLayer" parent="WallFolder"]
z_index = 14
y_sort_enabled = true
tile_set = ExtResource("2_t0jh4")
collision_enabled = false

[node name="FloorFolder" type="Node2D" parent="."]
y_sort_enabled = true

[node name="FloorTilemap" type="TileMapLayer" parent="FloorFolder"]
z_index = -4
y_sort_enabled = true
tile_map_data = PackedByteArray(0, 0, 255, 255, 0, 0, 0, 0, 4, 0, 0, 0, 0, 0)
tile_set = ExtResource("2_t0jh4")

[node name="FloorPropTilemap" type="TileMapLayer" parent="FloorFolder"]
z_index = -4
y_sort_enabled = true
tile_set = ExtResource("2_t0jh4")

[node name="FloorOverlayTilemap" type="TileMapLayer" parent="FloorFolder"]
z_index = -3
y_sort_enabled = true
tile_set = ExtResource("2_t0jh4")

[node name="MainTilemap" type="TileMapLayer" parent="FloorFolder" groups=["blocked", "navigation_polygon_source_geometry_group", "walls"]]
y_sort_enabled = true
tile_set = ExtResource("2_t0jh4")

[node name="MainNavigation" type="NavigationRegion2D" parent="FloorFolder/MainTilemap"]
z_index = 20
y_sort_enabled = true
navigation_polygon = SubResource("NavigationPolygon_4ltyq")
navigation_layers = 2

[node name="DestructableMap" type="TileMapLayer" parent="FloorFolder"]
y_sort_enabled = true
tile_set = ExtResource("2_t0jh4")

[node name="HitboxTilemap" type="TileMapLayer" parent="FloorFolder/DestructableMap"]
y_sort_enabled = true
tile_set = ExtResource("2_t0jh4")
collision_enabled = false

[node name="EdgeFolder" type="Node2D" parent="."]
y_sort_enabled = true

[node name="EdgeTilemap1" type="TileMapLayer" parent="EdgeFolder"]
z_index = -5
y_sort_enabled = true
tile_set = ExtResource("2_t0jh4")
collision_enabled = false

[node name="EdgeTilemap2" type="TileMapLayer" parent="EdgeFolder"]
modulate = Color(0.55562, 0.55562, 0.55562, 1)
z_index = -6
y_sort_enabled = true
tile_set = ExtResource("2_t0jh4")
collision_enabled = false

[node name="EdgeTilemap3" type="TileMapLayer" parent="EdgeFolder"]
modulate = Color(0.227451, 0.227451, 0.227451, 1)
z_index = -7
y_sort_enabled = true
tile_set = ExtResource("2_t0jh4")
collision_enabled = false

[node name="ForgottenTilemap" type="TileMapLayer" parent="EdgeFolder"]
modulate = Color(0.0862745, 0.0862745, 0.0862745, 1)
z_index = -8
y_sort_enabled = true
tile_set = ExtResource("2_t0jh4")
collision_enabled = false
